// This file is auto-generated by Next Prisma Flow Generator.
// Do not edit this file manually as it will be overwritten.
// Generated at: 2025-06-07T12:32:18.080Z

// Flow context type definitions and utilities

import type { createStore } from 'jotai';
import type { FlowConfig, FlowState } from './flow-config';

// ============================================================================
// ERROR BOUNDARY REF TYPE
// ============================================================================

export interface FlowErrorBoundaryRef {
  reset: () => void;
}

// ============================================================================
// CONTEXT VALUE TYPE
// ============================================================================

export interface FlowContextValue {
  // Configuration
  config: FlowConfig;
  
  // User/Auth context
  user: any | null;
  
  // Jotai store instance
  store: ReturnType<typeof createStore>;
  
  // Event handlers
  onError: (error: Error, context: string, modelName?: string) => void;
  onLoading?: (isLoading: boolean, modelName?: string) => void;
  
  // Error boundary ref
  errorBoundaryRef: React.MutableRefObject<FlowErrorBoundaryRef | null>;
  
  // Utility methods
  clearAllData: () => void;
  getDebugInfo: () => FlowDebugInfo;
}

// ============================================================================
// DEBUG INFO TYPE
// ============================================================================

export interface FlowDebugInfo {
  config: FlowConfig;
  user: { id: string; email?: string } | null;
  hasErrors: boolean;
  isLoading: boolean;
  timestamp: string;
}

// ============================================================================
// UTILITY TYPES
// ============================================================================

export type FlowErrorHandler = (error: Error, context: string, modelName?: string) => void;
export type FlowLoadingHandler = (isLoading: boolean, modelName?: string) => void;

export interface FlowErrorFallbackProps {
  error: Error;
  reset: () => void;
}

export type FlowErrorFallbackComponent = React.ComponentType<FlowErrorFallbackProps>;
