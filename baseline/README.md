# Golden Baseline: Todo Implementation

This directory contains the manually crafted "baseline" implementation for the Post model that serves as the reference standard for what the generator should produce.

## Purpose

This baseline serves multiple purposes:

1. **Quality Target**: Defines the standard of code quality the generator should achieve
2. **Testing Reference**: Used for automated testing to validate generator output
3. **Documentation**: Shows best practices and patterns for generated code
4. **Regression Prevention**: Ensures new generator versions maintain quality

## Structure

```
baseline/
├── README.md              # This documentation
├── prisma.ts              # Prisma client
├── schema.prisma          # Example Prisma schema
├── server.ts              # Request handlers
├── cache.ts               # Cache management
├── zod/index.ts           # Zod schemas generated by zod-prisma-types
└── todo/
 └─ post/
     ├─ actions.ts    ← plain server actions wrapper for all prisma queries (full feature parity)
     ├─ atoms.ts      ← synchronous entity & patch atoms
     ├─ derived.ts    ← selectors & loadable views
     ├─ fx.ts         ← write‑only async atoms (server actions + optimistic)
     ├─ hooks.ts      ← React hooks (CRUD + forms)
     ├─ index.ts      ← public barrel (see §3)
     ├─ schemas.ts    ← zod‑prisma validation schemas
     ├─ store.ts      ← createScopedStore() helper (opt‑in)
     └─ types.ts      ← re‑exported Prisma & helper types (for use in the generator)
```

## Quality Standards
This baseline demonstrates:

### Code Quality
- **Type Safety**: Full TypeScript coverage with proper type inference
- **Error Handling**: Comprehensive error handling with meaningful messages
- **Performance**: Optimized patterns for React rendering and state updates
- **Maintainability**: Clean, readable code with proper separation of concerns

### Architecture Patterns
- **Optimistic Updates**: Immediate UI updates with rollback on failure
- **Loading States**: Granular loading states for different operations
- **Form Integration**: react-hook-form integration with zod‑prisma validation schemas
- **State Management**: Efficient Jotai atoms with derived state

### API Design
- **Prisma Feature Parity**: Server actions that are feature-complete and match the Prisma client queries
- **Developer Experience**: Intuitive API with unified hooks
- **Flexibility**: Support for both simple and advanced use cases
- **Advanced Features**: Extended with useful defaults and patterns for common use cases like pagination, search and relationships

## Testing Usage

The generator test suite uses this baseline to validate the generated code by comparing the generated code with the baseline code.

---

*This baseline represents the gold standard for generated code quality and should be maintained as the primary reference for generated code.*